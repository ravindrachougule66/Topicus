Program ISN,Program #,Task,Name,SQL
242,,".1","Bepaal actieve spaarvorm CTR+Q","select min(s.sv_looptijd_maanden),max(s.sv_looptijd_maanden) from :1 s where s.sv_rekeningsoort = :2 and s.sv_status between 1 and 2 and s.sv_productnummer=:3 and s.sv_renteschaal_muntsoort=':4'"
257,,".1","Herkomst ext partij SQL","select count(*) from :1 v inner join :2 h on h.her_av_id = v.vs_av_idwhere  v.vs_re_nummer = ':3' and      v.vs_status_verdeling in (1,3)and      h.her_externe_partij = ':4'and      (h.her_status_koppeling is null or h.her_status_koppeling =0)and      h.her_herkomst_type = 4 :5"
257,,".2","Aanvraag ext.partij SQL","select h.her_av_id, h.her_volgnr from :1 v inner join :2 h on h.her_av_id = v.vs_av_idwhere v.vs_re_nummer = ':3' and     v.vs_status_verdeling in (1,3)and     h.her_externe_partij = ':4' and      (h.her_status_koppeling is null or h.her_status_koppeling =0)and     h.her_herkomst_type = 4 :5"
257,,".3","Lock en zoek dichtbij zijnde storting","select h.her_av_id, h.her_volgnr, h.her_bedrag from kw_herkomst h inner join mf_kw_verdeling_status v on h.her_av_id = v.vs_av_idwhere v.vs_re_nummer = ':1' and     v.vs_status_verdeling in (1,3)and     h.her_externe_partij = ':2' and      (h.her_status_koppeling is null or h.her_status_koppeling =0)and     h.her_herkomst_type = 4 :3for update"
258,,".1","Herkomst eigenstort SQL","select count(*) from :1 v inner join :2 h on h.her_av_id = v.vs_av_idinner join :3 aon a.av_id = v.vs_av_idwhere v.vs_re_nummer = ':4'and      v.vs_status_verdeling in (1,3)and      (h.her_status_koppeling is null or h.her_status_koppeling =0) and      h.her_herkomst_type = 7 and   a.av_ext_iban = ':5':6"
258,,".2","Aanvraag eigenstort SQL","select h.her_av_id, h.her_volgnr from :1 v inner join :2 h on h.her_av_id = v.vs_av_id inner join :3 a on a.av_id = v.vs_av_id where v.vs_re_nummer = ':4' and      v.vs_status_verdeling in (1,3) and      (h.her_status_koppeling is null or h.her_status_koppeling =0) and      h.her_herkomst_type = 7 and   a.av_ext_iban = ':5' :6"
258,,".3","Herkomst overig SQL","select count(*) from :1 v inner join :2 h on h.her_av_id = v.vs_av_id where v.vs_re_nummer = ':3' and     (h.her_status_koppeling is null or h.her_status_koppeling =0)and     v.vs_status_verdeling in (1,3)and     h.her_herkomst_type not in (4,7) :4"
258,,".4","Aanvraag overig SQL","select h.her_av_id, h.her_volgnr from :1 v inner join :2 h on h.her_av_id = v.vs_av_idwhere v.vs_re_nummer = ':3' and     (h.her_status_koppeling is null or h.her_status_koppeling =0)and     v.vs_status_verdeling in (1,3) and     h.her_herkomst_type not in (4,7) :4"
533,,".1.3","Ophalen eerste einddatum","select min(sv.stv_datum) from :1 mps, :2 sv where mps.mprs_mapr_id = :3 and sv.stv_aanvraag_id = :4 and sv.stv_status_id = mps.mprs_st_id"
536871499,,".1","Build XML","SELECT * FROM (SELECT DISTINCT H.TNHD_ID, H.TNHD_PPR_ID, H.TNHD_MUTATIONCODE, P.PR_OMSCHRIJVING, HPP.HPP_HOLDERNUMMER, V.CONTRACT_ID, H.TNHD_ORIGIN, H.TNHD_USERFROM MF_TERMINATION_HDR H :1INNER JOIN PRODUCTEN_PER_RELATIE PPR ON PPR.PPR_ID=H.TNHD_PPR_ID INNER JOIN HOLDERS_PER_PRODUCT HPP ON HPP.HPP_RELATIENUMMER=PPR.PPR_RELATIENUMMER                                        AND HPP.HPP_PRODUCT=PPR.PPR_PRODUCTNUMMER                                        AND HPP.HPP_PRODUCT_VOLGNR=PPR.PPR_VOLGNR_PER_PRODUCT                                                              AND HPP.HPP_TYPE_HOLDER=1LEFT OUTER JOIN PRODUCTEN P ON P.PR_PRODUCTNUMMER=PPR.PPR_PRODUCTNUMMERINNER JOIN CLIENT_CONTRACT_VW V ON V.CLIENT_NR=PPR.PPR_RELATIENUMMER:4:5:6:2ORDER BY H.TNHD_ID DESC):3"
