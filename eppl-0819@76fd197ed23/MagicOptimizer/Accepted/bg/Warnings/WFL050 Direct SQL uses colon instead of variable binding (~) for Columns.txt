Program ISN,Program #,Task,Name,Details
37,,".1.1","Al Concept gedraaid?","select p.pr_concept_voorstel_verplicht as CONCEPT_VERPLICHT       , h.rvh_concept_gedraaid as CONCEPT_GEDRAAID       , count(*) as AANTALfrom :1 h, :2 p, :3 cwhere p.pr_productnummer = h.rvh_productnummerand h.rvh_relatienummer between ~7 and ~8and h.rvh_productnummer = ~9and h.rvh_voorstelnummer >=1and c.cl_nummer = h.rvh_relatienummerand c.cl_relatie_categorie between ~11 and ~12and c.cl_adviseur between ~13 and ~14and c.cl_afdelingadviseur between ~15 and ~16and c.cl_clientgroep between ~17 and ~18and( ~19 = ' ' or instr(~19,c.cl_clientgroep)<>0):29 and h.rvh_relatienummer in(select w.wk_categorie_1 from :28 w where w.wk_terminal = :10 and w.wk_soort='RVVW'):30and exists(select 1 from :4 d, :5 t     where d.rvd_status between 40 and 50    and d.rvd_relatienummer = h.rvh_relatienummer    and d.rvd_productnummer = h.rvh_productnummer    and d.rvd_volgnr_per_product = h.rvh_volgnr_per_product    and d.rvd_voorstelnummer = h.rvh_voorstelnummer    and d.rvd_transactiesoort = t.ts_symbool)and (~20=0 and ~21=2     and (h.rvh_status=30 or h.rvh_status=35)                                                                                                                                                   or ~21<>2 and (h.rvh_status=30 or h.rvh_status=35))    and exists(select 1 from :4 d, :5 t         where d.rvd_status between 40 and 50        and d.rvd_relatienummer = h.rvh_relatienummer        and d.rvd_productnummer = h.rvh_productnummer        and d.rvd_volgnr_per_product = h.rvh_volgnr_per_product        and d.rvd_voorstelnummer = h.rvh_voorstelnummer        and d.rvd_transactiesoort = t.ts_symbool        and (d.RVD_PROCESSING_DATE <= to_date(~22,'DD-MM-YYYY HH24MISS') or d.RVD_PROCESSING_DATE is null)        ) and h.rvh_historische_opdracht = 0 and(h.rvh_voorstel_geldig_tm = '00000000' or h.rvh_voorstel_geldig_tm >=to_char(sysdate,'yyyymmdd') or h.rvh_opdrachtnummer<>0) and( p.pr_bgs_soort =0   and h.rvh_beleggingsprofiel between ~23 and ~24  and h.rvh_modelportefeuille between ~25 and ~26   OR p.pr_bgs_soort = 1 AND  p.pr_bgs_stichting = ~27  OR  (p.pr_bgs_soort =2 AND                         exists (select 1 from :6 b, :4 d, :5 t          where d.rvd_status between 40 and 50         and d.rvd_relatienummer = h.rvh_relatienummer         and d.rvd_productnummer = h.rvh_productnummer         and d.rvd_volgnr_per_product = h.rvh_volgnr_per_product         and d.rvd_voorstelnummer = h.rvh_voorstelnummer         and d.rvd_transactiesoort = t.ts_symbool         and b.be_symbool = d.rvd_fondssymbool         and b.be_optietype = d.rvd_optietype         and b.be_expiratiedatum = d.rvd_expiratiedatum         and b.be_exerciseprijs = d.rvd_exerciseprijs         and b.be_bgs_stichting = ~27)))group by p.pr_concept_voorstel_verplicht, h.rvh_concept_gedraaid "
37,,".2","Eerste/Laatste Fonds","Select * from (select distinct d.rvd_fondssymbool as SYMBOOL,        d.rvd_optietype as OPTIETYPE,        d.rvd_expiratiedatum as EXPIRATIEDATUM,        d.rvd_exerciseprijs as EXERCISEPRIJS,        decode(~1,1,' ',d.rvd_transactiesoort)as TRANSSOORT,       d.rvd_aantl_of_bedrag_fonds as AANTAL_OF_BEDRAGfrom :2 c,     :3 d,      :4 h,      :5 t,    :19 pwhered.rvd_status        between 40 and 50 andd.rvd_relatienummer between ~6 and ~7 and:23 d.rvd_relatienummer  in(select w.wk_categorie_1 from :26 w where w.wk_terminal = :25 and w.wk.soort = 'RVVW') and :24d.rvd_productnummer between ~8 and ~9 andd.rvd_voorstelnummer >=1 and c.cl_nummer = d.rvd_relatienummer andc.cl_relatie_categorie between ~10 and ~11 andc.cl_adviseur between ~12 and ~13 andc.cl_afdelingadviseur between ~14 and ~15 andc.cl_clientgroep between ~16 and ~17 and(~18 = ' ' OR INSTR(~18,c.cl_clientgroep)<>0) andt.ts_symbool = d.rvd_transactiesoort andh.rvh_relatienummer = d.rvd_relatienummer andh.rvh_productnummer = d.rvd_productnummer andh.rvh_volgnr_per_product = d.rvd_volgnr_per_product andh.rvh_voorstelnummer = d.rvd_voorstelnummer andh.rvh_historische_opdracht = 0 and(h.rvh_voorstel_geldig_tm = '00000000' or h.rvh_voorstel_geldig_tm >= to_char(sysdate, 'yyyymmdd')   or h.rvh_opdrachtnummer<>0) andp. pr_productnummer = d.rvd_productnummer and (~31 <> 0         or  (~31=0                 and  (~32 =0                            or ~32=1                               and  (p. pr_concept_voorstel_verplicht =0                                          or p. pr_concept_voorstel_verplicht =1                                              and   h. rvh_concept_gedraaid = 1))))and(~33 = 0 and ~34 = 2 and (h.rvh_status=30 or h.rvh_status=35) or ~34 <> 2 and (h.rvh_status=30 or h.rvh_status=35)) and (d.RVD_PROCESSING_DATE <= to_date(~35,'DD-MM-YYYY HH24MISS') or d.RVD_PROCESSING_DATE is null)                                                                                                                                                                                                                                                                                             and(( p.pr_bgs_soort =0 AND   h.rvh_beleggingsprofiel between ~27 and ~28 AND  h.rvh_modelportefeuille between ~29 and ~30 OR  p.pr_bgs_soort = 1 AND  p.pr_bgs_stichting = ~20 OR (p.pr_bgs_soort =2 AND                         exists (select 1 from :21 b where                         b.be_symbool = d.rvd_fondssymbool and                         b.be_optietype = d.rvd_optietype and                         b.be_expiratiedatum = d.rvd_expiratiedatum and                         b.be_exerciseprijs = d.rvd_exerciseprijs and                         b.be_bgs_stichting = ~20))))order by 1 :22,2 :22,3 :22,4 :22,6 :22,5 :22)                     where rownum <=1"
37,,".3","Totaal Aantal Fondsen","Select count(*) from (select distinct d.rvd_fondssymbool as SYMBOOL,        d.rvd_optietype as OPTIETYPE,        d.rvd_expiratiedatum as EXPIRATIEDATUM,        d.rvd_exerciseprijs as EXERCISEPRIJS,        decode(~1,1,' ',d.rvd_transactiesoort)as TRANSSOORT,       d.rvd_aantl_of_bedrag_fonds as AANTAL_OF_BEDRAGfrom  :2 c,     :3 d,      :4 h,      :5 t,     :19 pwhered.rvd_status        between 40 and 50 andd.rvd_relatienummer between ~6 and ~7 and:30 d.rvd_relatienummer in(select w.wk_catgorie_1 from :33 w where w.wk_terminal = :32 and w.wk_soort = 'RVVW') and :31d.rvd_productnummer between ~8 and ~9 andd.rvd_fondssymbool between ~22 and ~23 andd.rvd_optietype between ~24 and ~25 andd.rvd_expiratiedatum between ~26 and ~27 andd.rvd_exerciseprijs between ~28 and ~29 andd.rvd_voorstelnummer >=1 andc.cl_nummer = d.rvd_relatienummer andc.cl_relatie_categorie between ~10 and ~11 andc.cl_adviseur between ~12 and ~13 andc.cl_afdelingadviseur between ~14 and ~15 andc.cl_clientgroep between ~16 and ~17 and(~18 = ' ' OR INSTR(~18,c.cl_clientgroep)<>0) andt.ts_symbool = d.rvd_transactiesoort andh.rvh_relatienummer = d.rvd_relatienummer andh.rvh_productnummer = d.rvd_productnummer andh.rvh_volgnr_per_product = d.rvd_volgnr_per_product andh.rvh_voorstelnummer = d.rvd_voorstelnummer andh.rvh_historische_opdracht = 0 and(h.rvh_voorstel_geldig_tm = '00000000' or h.rvh_voorstel_geldig_tm >= to_char(sysdate, 'yyyymmdd')   or h.rvh_opdrachtnummer<>0) andp. pr_productnummer= d.rvd_productnummer and(~40 = 0 and ~41 = 2 and (h.rvh_status=30 or h.rvh_status=35) or ~41 <> 2 and (h.rvh_status=30 or h.rvh_status=35)) and (d.RVD_PROCESSING_DATE <= to_date(~42,'DD-MM-YYYY HH24MISS') or d.RVD_PROCESSING_DATE is null) and(p.pr_bgs_soort =0 AND   h.rvh_beleggingsprofiel between ~34 and ~35 AND  h.rvh_modelportefeuille between ~36 and ~37 OR   p.pr_bgs_soort= 1 AND  p.pr_bgs_stichting = ~20 OR (p.pr_bgs_soort=2 AND                         exists (select 1 from :21 b where                         b.be_symbool = d.rvd_fondssymbool and                         b.be_optietype = d.rvd_optietype and                         b.be_expiratiedatum = d.rvd_expiratiedatum and                         b.be_exerciseprijs = d.rvd_exerciseprijs and                         b.be_bgs_stichting = ~20)))and (~38 <> 0         or  (~38=0                 and  (~39 =0                            or ~39=1                               and  (p. pr_concept_voorstel_verplicht =0                                          or p. pr_concept_voorstel_verplicht =1                                              and   h. rvh_concept_gedraaid = 1)))))"
37,,".4.1"," Fondsen SQL","select distinct d.rvd_fondssymbool as SYMBOOL,        d.rvd_optietype as OPTIETYPE,        d.rvd_expiratiedatum as EXPIRATIEDATUM,        d.rvd_exerciseprijs as EXERCISEPRIJS,        decode(~1,1,' ',d.rvd_transactiesoort)as TRANSSOORT,       d.rvd_aantl_of_bedrag_fonds as AANTAL_OF_BEDRAGfrom :2 c,     :3 d,      :4 h,      :5 t,     :19 pwhered.rvd_status        between 40 and 50 andd.rvd_relatienummer between ~6 and ~7 and:25 d.rvd_relatienummer in(select w.wk_categorie_1 from :28 w where  w.wk_terminal = :27 and w.wk_soort = 'RVVW') and :26d.rvd_productnummer between ~8 and ~9 andd.rvd_voorstelnummer >=1 andc.cl_nummer = d.rvd_relatienummer andc.cl_relatie_categorie between ~10 and ~11 andc.cl_adviseur between ~12 and ~13 andc.cl_afdelingadviseur between ~14 and ~15 andc.cl_clientgroep between ~16 and ~17 and(~18 = ' ' OR INSTR(~18,c.cl_clientgroep)<>0) andt.ts_symbool = d.rvd_transactiesoort andh.rvh_relatienummer = d.rvd_relatienummer andh.rvh_productnummer = d.rvd_productnummer andh.rvh_volgnr_per_product = d.rvd_volgnr_per_product andh.rvh_voorstelnummer = d.rvd_voorstelnummer andp. pr_productnummer= d.rvd_productnummer and (~33 <> 0         or  (~33=0                 and  (~34 =0                            or ~34=1                               and  (p. pr_concept_voorstel_verplicht =0                                          or p. pr_concept_voorstel_verplicht =1                                              and   h. rvh_concept_gedraaid = 1))))and (~22 = 0 and ~23 = 2 and (h.rvh_status=30 or h.rvh_status=35) or ~23 <> 2 and (h.rvh_status=30 or h.rvh_status=35)) and (d.RVD_PROCESSING_DATE <= to_date(~24,'DD-MM-YYYY HH24MISS') or d.RVD_PROCESSING_DATE is null)                                                                         and h.rvh_historische_opdracht = 0 and(h.rvh_voorstel_geldig_tm = '00000000' or h.rvh_voorstel_geldig_tm >= to_char(sysdate, 'yyyymmdd')   or h.rvh_opdrachtnummer<>0) and(p.pr_bgs_soort=0 AND   h.rvh_beleggingsprofiel between ~29 and ~30 AND  h.rvh_modelportefeuille between ~31 and ~32 ORp.pr_bgs_soort= 1 AND   p.pr_bgs_stichting = ~20 OR (p.pr_bgs_soort=2 AND                         exists (select 1 from :21 b where                         b.be_symbool = d.rvd_fondssymbool and                         b.be_optietype = d.rvd_optietype and                         b.be_expiratiedatum = d.rvd_expiratiedatum and                         b.be_exerciseprijs = d.rvd_exerciseprijs and                         b.be_bgs_stichting = ~20)))order by 1,2,3,4,6,5"
37,,".5","Bepaal Fondsen SQL","select distinct d.rvd_fondssymbool as SYMBOOL,        d.rvd_optietype as OPTIETYPE,        d.rvd_expiratiedatum as EXPIRATIEDATUM,        d.rvd_exerciseprijs as EXERCISEPRIJS,        decode(~1,1,' ',d.rvd_transactiesoort)as TRANSSOORT,       d.rvd_aantl_of_bedrag_fonds as AANTAL_OF_BEDRAGfrom :2 c,     :3 d,      :4 h,      :5 t,    :19 p     whered.rvd_status   between 40 and 50 andd.rvd_relatienummer between  ~6 and ~7 and:33 d.rvd_relatienummer in (select w.wk_categorie_1 from :36 w where w.wk_terminal = :35 and w.wk_soort = 'RVVW') and :34d.rvd_productnummer between ~8 and ~9 and(~22 = ' ' or (d.rvd_fondssymbool between ~22 and ~23 and d.rvd_optietype between ~24 and ~25 and d.rvd_expiratiedatum between ~26 and ~27 and d.rvd_exerciseprijs between ~28 and ~29 )) andd.rvd_voorstelnummer >=1 andc.cl_nummer = d.rvd_relatienummer andc.cl_relatie_categorie between ~10 and ~11 andc.cl_adviseur between ~12 and ~13 andc.cl_afdelingadviseur between ~14 and ~15 andc.cl_clientgroep between ~16 and ~17 and(~18 = ' ' OR INSTR(~18,c.cl_clientgroep)<>0) andt.ts_symbool = d.rvd_transactiesoort andh.rvh_relatienummer = d.rvd_relatienummer andh.rvh_productnummer = d.rvd_productnummer andh.rvh_volgnr_per_product = d.rvd_volgnr_per_product andh.rvh_voorstelnummer = d.rvd_voorstelnummer andp. pr_productnummer= d.rvd_productnummerand (~41 <> 0         or  (~41=0                 and  (~42 =0                            or ~42=1                               and  (p. pr_concept_voorstel_verplicht =0                                          or p. pr_concept_voorstel_verplicht =1                                              and   h. rvh_concept_gedraaid = 1))))and  (~30 = 0 and ~31 = 2 and (h.rvh_status=30 or h.rvh_status=35) or ~31 <> 2 and (h.rvh_status=30 or h.rvh_status=35)) and (d.RVD_PROCESSING_DATE <= to_date(~32,'DD-MM-YYYY HH24MISS') or d.RVD_PROCESSING_DATE is null)                                                                         and  h.rvh_historische_opdracht = 0 and(h.rvh_voorstel_geldig_tm = '00000000' or h.rvh_voorstel_geldig_tm >= to_char(sysdate, 'yyyymmdd')   or h.rvh_opdrachtnummer<>0) and( p.pr_bgs_soort =0 AND   h.rvh_beleggingsprofiel between ~37 and ~38 AND  h.rvh_modelportefeuille between ~39 and ~40 OR p.pr_bgs_soort = 1 AND  p.pr_bgs_stichting = ~20 OR (p.pr_bgs_soort =2 AND                         exists (select 1 from :21 b where                         b.be_symbool = d.rvd_fondssymbool and                         b.be_optietype = d.rvd_optietype and                         b.be_expiratiedatum = d.rvd_expiratiedatum and                         b.be_exerciseprijs = d.rvd_exerciseprijs and                         b.be_bgs_stichting = ~20)))order by 1,2,3,4,6,5"
37,,".5.8","Verwijder orderregels","DELETE FROM :1 WHERE ORX_ORDERNUMMER = :2"
37,,".6","Check BG-BV fondsen SQL","select distinct d.rvd_fondssymbool as SYMBOOL,        d.rvd_optietype as OPTIETYPE,        d.rvd_expiratiedatum as EXPIRATIEDATUM,        d.rvd_exerciseprijs as EXERCISEPRIJSfrom :1 c,     :2 d,      :3 h,      :4 t,    :18 p    whered.rvd_status   between 40 and 50 andd.rvd_relatienummer between  ~5 and ~6 and:32 d.rvd_relatienummer in (select w.wk_categorie_1 from :35 w where w.wk_terminal = :34 and w.wk_soort = 'RVVW') and :33d.rvd_productnummer between ~7 and ~8 and(~21 = ' ' or (d.rvd_fondssymbool between ~21 and ~22 and d.rvd_optietype between ~23 and ~24 and d.rvd_expiratiedatum between ~25 and ~26 and d.rvd_exerciseprijs between ~27 and ~28 )) andd.rvd_voorstelnummer >=1 andc.cl_nummer = d.rvd_relatienummer andc.cl_relatie_categorie between ~9 and ~10 andc.cl_adviseur between ~11 and ~12 andc.cl_afdelingadviseur between ~13 and ~14 andc.cl_clientgroep between ~15 and ~16 and(~17 = ' ' OR INSTR(~17,c.cl_clientgroep)<>0) andt.ts_symbool = d.rvd_transactiesoort andh.rvh_relatienummer = d.rvd_relatienummer andh.rvh_productnummer = d.rvd_productnummer andh.rvh_volgnr_per_product = d.rvd_volgnr_per_product andh.rvh_voorstelnummer = d.rvd_voorstelnummer andp. pr_productnummer= d.rvd_productnummerand (~40 <> 0         or  (~40=0                 and  (~41 =0                            or ~41=1                               and  (p. pr_concept_voorstel_verplicht =0                                          or p. pr_concept_voorstel_verplicht =1                                              and   h. rvh_concept_gedraaid = 1))))and  (~29 = 0 and ~30 = 2 and (h.rvh_status=30 or h.rvh_status=35) or ~30 <> 2 and (h.rvh_status=30 or h.rvh_status=35)) and d.RVD_PROCESSING_DATE <= to_date(~31,'DD-MM-YYYY HH24MISS')                                                                                                                                         and  h.rvh_historische_opdracht = 0 and(h.rvh_voorstel_geldig_tm = '00000000' or h.rvh_voorstel_geldig_tm >= to_char(sysdate, 'yyyymmdd')   or h.rvh_opdrachtnummer<>0) and(( p.pr_bgs_soort =0 AND   h.rvh_beleggingsprofiel between ~36 and ~37 AND  h.rvh_modelportefeuille between ~38 and ~39 OR p.pr_bgs_soort = 1 AND  p.pr_bgs_stichting = ~19) AND  exists (select 1 from :20 b where                         b.be_symbool = d.rvd_fondssymbool and                         b.be_optietype = d.rvd_optietype and                         b.be_expiratiedatum = d.rvd_expiratiedatum and                         b.be_exerciseprijs = d.rvd_exerciseprijs and                         b.be_bgs_fonds = 1)OR (p.pr_bgs_soort =2 AND                         exists (select 1 from :20 b where                         b.be_symbool = d.rvd_fondssymbool and                         b.be_optietype = d.rvd_optietype and                         b.be_expiratiedatum = d.rvd_expiratiedatum and                         b.be_exerciseprijs = d.rvd_exerciseprijs and                         b.be_bgs_fonds = 1 and                         b.be_bgs_stichting = ~19)))order by 1,2,3,4"
99,,".6","Leeg werkbestand adviezen","delete :1 w where w.wadv_terminal_nummer=:2"
165,,".1.1.1","Eerste/Laatste Opdrachtnr","Select * from  (select b.boh_opdrachtnummer from :1 b :2    where  :3  order by b.boh_opdrachtnummer :4)                     where rownum <=1"
165,,".1.1.2","Totaal Aantal Opdrachten","select count(*) from :1 b :2    where   :3"
165,,".1.1.3.1","SQL taak","Select D.OPDRACHTNR from (Select rownum "RIJ",C.OPDRACHTNR from   (select b.boh_opdrachtnummer "OPDRACHTNR" from :1 b :2      where     :3     order by b.boh_opdrachtnummer)C )D                     where MOD(D.RIJ,~4)=0"
358,,".7","Create Report","SELECT  ID, PPR_ID, RE_REKENING, MUTATION_ID, AMOUNT,  DATE_IN, IF_ID, STATUSFROM (SELECT  A.ID, A.PPR_ID, E.RE_REKENING, A.MUTATION_ID, A.AMOUNT,  A.DATE_IN, A.IF_ID, A.STATUSFROM :2 A, --WM_ORDER:3 B, --ORIN_STATES:4 C, --EXT_IDENTIFICATION_POSS_VW:5 D, --INVESTMENT_FLOWS:6 E, --REKENINGEN:8 F, --PRODUCTEN_PER_RELATIE:9 G  -- CLIENTENWHERE :1AND (B.STATE_ID=A.STATUS AND C.PPR_ID=A.PPR_ID AND D.ID(+) =A.IF_ID AND E.RE_ID=A.DEPOT_ID AND A.PPR_ID=F.PPR_ID AND F.PPR_RELATIENUMMER=G.CL_NUMMER) UNIONSELECT  A.ID, A.PPR_ID, E.RE_REKENING, A.MUTATION_ID, A.AMOUNT,  A.DATE_IN, A.IF_ID, A.STATUSFROM :7 A, --HIST_WM_ORDER:3 B, --ORIN_STATES:4 C, --EXT_IDENTIFICATION_POSS_VW:5 D, --INVESTMENT_FLOWS:6 E, --REKENINGEN:8 F, --PRODUCTEN_PER_RELATIE:9 G  --CLIENTENWHERE :1AND (B.STATE_ID=A.STATUS AND C.PPR_ID=A.PPR_ID AND D.ID(+) =A.IF_ID AND E.RE_ID=A.DEPOT_ID AND A.PPR_ID=F.PPR_ID AND F.PPR_RELATIENUMMER=G.CL_NUMMER) )ORDER BY ID DESC"
1644167659,,".2.1","setResponse","select DISTINCT t.lifecycle_id, t.date_from,t.date_till from :1 t where t.lifecycle_id=:2  and (t.date_till>= TO_DATE(':3','yyyy-mm-dd')  OR t.date_till IS NULL) AND t.date_from<=TO_DATE(':4','yyyy-mm-dd')  order by t.lifecycle_id, t.date_from"