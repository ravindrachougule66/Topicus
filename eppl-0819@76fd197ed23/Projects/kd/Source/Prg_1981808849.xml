<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
<Application>

  <Header>
    <Version val="14080.00"/>
    <WithIsn val="Y"/>
    <_InternalTask val="N"/>
    <IsRoot val="N"/>
    <InIndex val="N"/>
    <UniqueISNConvState val="12"/>
  </Header>

  <ProgramsRepository>
    <Programs>
      <Task MainProgram="N">
        <Header Description="SUB-CheckTosaCalculation" ISN_2="1" LastIsn="4" id="1981808849">
          <Comment val="/*Used to check if tosa calculation is mandatory.*/"/>
          <ExecutionRight comp="-1"/>
          <Resident val="Y"/>
          <SQL val="N"/>
          <ReturnValue>
            <ReturnValueAttr/>
            <TSK_PARAMS val="3"/>
            <ParametersAttributes>
              <Attr MgAttr="N"/>
              <Attr MgAttr="D"/>
              <Attr MgAttr="B"/>
            </ParametersAttributes>
          </ReturnValue>
          <SqlWhereExist val="N"/>
          <TaskType val="B"/>
          <External val="N"/>
          <Offline val="N"/>
          <FormType val="N"/>
          <DotNetObjectExists val="N"/>
          <LastModified _date="738302" _time="27617" date="27/05/2022" time="07:40:17"/>
        </Header>
        <ItemIsn val="35"/>
        <Resource>
          <DB id="2086666242">
            <DataObject comp="-1" obj="1981808717"/>
            <Access val="R"/>
            <Share val="W"/>
            <Open val="N"/>
            <Cache val="N"/>
            <IdentifyRowModifications val="84"/>
          </DB>
          <DB id="1981808641">
            <DataObject comp="-1" obj="1981808721"/>
            <Access val="R"/>
            <Share val="W"/>
            <Open val="N"/>
            <Cache val="Y"/>
            <IdentifyRowModifications val="84"/>
          </DB>
          <Columns>
            <Column id="1981808641" name="pi-_Ppr_id">
              <PropertyList model="FIELD">
                <Model attr_obj="FIELD_NUMERIC" comp="2" id="1" obj="883"/>
                <DbColumnName id="178"/>
                <Type id="179"/>
                <UserType id="180"/>
              </PropertyList>
            </Column>
            <Column id="1981808642" name="pi-_ReferenceDate">
              <PropertyList model="FIELD">
                <Model attr_obj="FIELD_DATE" comp="2" id="1" obj="37"/>
                <DbColumnName id="178"/>
                <Type id="179"/>
                <UserType id="180"/>
              </PropertyList>
            </Column>
            <Column id="1981808644" name="p-o_TosaMustBeCalculated">
              <PropertyList model="FIELD">
                <Model attr_obj="FIELD_LOGICAL" id="1"/>
                <_FieldStyle id="276" val="1"/>
              </PropertyList>
            </Column>
            <Column id="1981808643" name="v_CalculateTosaMessage">
              <PropertyList model="FIELD">
                <Model attr_obj="FIELD_BLOB" id="1"/>
                <Size id="174" val="28"/>
                <Definition id="175" val="1"/>
                <_FieldStyle id="276" val="1"/>
              </PropertyList>
            </Column>
            <Column id="2086666247" name="v_FirstDateTaxYear">
              <PropertyList model="FIELD">
                <Model attr_obj="FIELD_DATE" comp="2" id="1" obj="37"/>
                <DbColumnName id="178"/>
                <Type id="179"/>
                <UserType id="180"/>
              </PropertyList>
            </Column>
            <Column id="2086666248" name="v_RefDateInFirstPeriodTaxYear">
              <PropertyList model="FIELD">
                <Model attr_obj="FIELD_LOGICAL" id="1"/>
                <_FieldStyle id="276" val="1"/>
              </PropertyList>
            </Column>
            <Column id="2086666250" name="l_PrevTaxYearCalculationPresent">
              <PropertyList model="FIELD">
                <Model attr_obj="FIELD_LOGICAL" id="1"/>
                <_FieldStyle id="276" val="1"/>
              </PropertyList>
            </Column>
            <Column id="2086666254" name="v_CheckPreviousTaxYear">
              <PropertyList model="FIELD">
                <Model attr_obj="FIELD_LOGICAL" id="1"/>
                <_FieldStyle id="276" val="1"/>
              </PropertyList>
            </Column>
            <Column id="2086666255" name="v_TosaPrevTaxYearMustBeCalculat">
              <PropertyList model="FIELD">
                <Model attr_obj="FIELD_LOGICAL" id="1"/>
                <_FieldStyle id="276" val="1"/>
              </PropertyList>
            </Column>
            <Column id="2086666252" name="l_CurrTaxYearCalculationPresent">
              <PropertyList model="FIELD">
                <Model attr_obj="FIELD_LOGICAL" id="1"/>
                <_FieldStyle id="276" val="1"/>
              </PropertyList>
            </Column>
            <Column id="2086666257" name="v_TosaCurrTaxYearMustBeCalculat">
              <PropertyList model="FIELD">
                <Model attr_obj="FIELD_LOGICAL" id="1"/>
                <_FieldStyle id="276" val="1"/>
              </PropertyList>
            </Column>
          </Columns>
        </Resource>
        <Information>
          <Key>
            <Mode val="N"/>
          </Key>
          <DB comp="-1"/>
          <Sort>
            <CLS val="A"/>
          </Sort>
          <ForceRecordDelete DEL="N"/>
          <EndTaskCondition val="Y"/>
          <EvaluateEndCondition val="A"/>
          <InitialMode val="M"/>
          <Locate Direction="A"/>
          <Range Direction="A"/>
          <VarRange/>
          <TaskProperties>
            <SelectionTable val="N"/>
            <ConfirmUpdate CNFU="N"/>
            <ConfirmCancel val="N"/>
            <ErrorStrategy val="A"/>
            <LockingStrategy val="M"/>
            <CacheStrategy val="T"/>
            <ForceRecordSuffix val="N"/>
            <TransactionMode val="P"/>
            <TransactionBegin val="N"/>
            <PreloadView val="N"/>
            <AllowEmptyDataview val="N"/>
            <KeepCreatedContext val="N"/>
          </TaskProperties>
          <SIDE_WIN>
            <AllowOptions val="N"/>
            <AllowQuery val="Y"/>
            <AllowModify val="Y"/>
            <AllowCreate val="Y"/>
            <AllowDelete val="Y"/>
            <AllowLocate val="Y"/>
            <AllowRange val="Y"/>
            <AllowIndexChange val="Y"/>
            <AllowSorting val="Y"/>
            <AllowIOFiles val="Y"/>
            <RecordCycle val="Y"/>
            <AllowEvents val="N"/>
            <AllowIndexOptimization val="Y"/>
            <AllowLocationInQuery val="Y"/>
            <AllowPrintingData val="N"/>
          </SIDE_WIN>
          <WIN>
            <OpenTaskWindow val="N"/>
            <CloseTaskWindow val="Y"/>
            <ForegroundWindow val="Y"/>
            <FlipFld val="N"/>
            <RefreshTaskWindow ReturnValue="N"/>
          </WIN>
          <BOX>
            <Direction val="V"/>
          </BOX>
        </Information>
        <INT_CMP_LIST_INFO>
          <v>2</v>
        </INT_CMP_LIST_INFO>
        <TaskLogic>
          <LogicUnit id="1" propagate="78">
            <Level val="R"/>
            <Type val="M"/>
            <Scope val="S"/>
            <EngineDirective val="S"/>
            <ShowMessage val="Y"/>
            <Condition val="89"/>
            <Event>
              <EventType val="S"/>
            </Event>
            <LogicLines>
              <LogicLine>
                <DATAVIEW_SRC FlowIsn="1" Type="M">
                  <Condition val="N"/>
                  <Modifier val="B"/>
                  <Direction val="C"/>
                </DATAVIEW_SRC>
              </LogicLine>
              <LogicLine>
                <Select FieldID="1981808641" FlowIsn="1981808643" id="1981808641">
                  <Column val="1981808641"/>
                  <Type val="V"/>
                  <ExposedToRoute val="N"/>
                  <IsParameter val="Y"/>
                  <INT_RCMP_INFO>
                    <v>2086666288</v>
                    <v>2086666303</v>
                  </INT_RCMP_INFO>
                  <DIFF_UPDATE val="T"/>
                  <PartOfDataview val="Y"/>
                  <Condition val="Y"/>
                  <Modifier val="S"/>
                  <Direction val="C"/>
                </Select>
              </LogicLine>
              <LogicLine>
                <Select FieldID="1981808642" FlowIsn="1981808644" id="1981808642">
                  <Column val="1981808642"/>
                  <Type val="V"/>
                  <ExposedToRoute val="N"/>
                  <IsParameter val="Y"/>
                  <INT_RCMP_INFO>
                    <v>1981808652</v>
                    <v>2086666298</v>
                  </INT_RCMP_INFO>
                  <DIFF_UPDATE val="T"/>
                  <PartOfDataview val="Y"/>
                  <Condition val="Y"/>
                  <Modifier val="S"/>
                  <Direction val="C"/>
                </Select>
              </LogicLine>
              <LogicLine>
                <Select FieldID="1981808644" FlowIsn="1981808648" id="1981808644">
                  <Column val="1981808644"/>
                  <Type val="V"/>
                  <ExposedToRoute val="N"/>
                  <IsParameter val="Y"/>
                  <DIFF_UPDATE val="T"/>
                  <Condition val="Y"/>
                  <Modifier val="S"/>
                  <Direction val="C"/>
                </Select>
              </LogicLine>
              <LogicLine>
                <Select FieldID="1981808643" FlowIsn="1981808645" id="1981808643">
                  <Column val="1981808643"/>
                  <Type val="V"/>
                  <ExposedToRoute val="N"/>
                  <IsParameter val="N"/>
                  <DIFF_UPDATE val="T"/>
                  <Condition val="Y"/>
                  <Modifier val="S"/>
                  <Direction val="C"/>
                </Select>
              </LogicLine>
              <LogicLine>
                <LNK Direction="A" EVL_CND="R" FlowIsn="1981808652" Key="1981808641" Mode="R" SortType="1981808653" VIEW="5" VIEWS="2">
                  <DB comp="-1" obj="1981808721"/>
                  <Condition val="Y"/>
                </LNK>
              </LogicLine>
              <LogicLine>
                <Select FieldID="2086666249" FlowIsn="2086666265" id="2086666249">
                  <Column val="1981808641"/>
                  <Type val="R"/>
                  <ExposedToRoute val="N"/>
                  <IsParameter val="N"/>
                  <REAL_VNAME_TXT val="TAX_YEAR_referenceDate"/>
                  <INT_RCMP_INFO>
                    <v>2086666275</v>
                    <v>2086666294</v>
                    <v>2086666288</v>
                    <v>2086666303</v>
                  </INT_RCMP_INFO>
                  <DIFF_UPDATE val="T"/>
                  <Condition val="N"/>
                  <Modifier val="S"/>
                  <Direction val="C"/>
                </Select>
              </LogicLine>
              <LogicLine>
                <Select FieldID="2086666248" FlowIsn="2086666264" id="2086666248">
                  <Column val="1981808642"/>
                  <Type val="R"/>
                  <ExposedToRoute val="N"/>
                  <IsParameter val="N"/>
                  <REAL_VNAME_TXT val="REFERENCE_DATE_referenceDate"/>
                  <Locate MIN="2086666246"/>
                  <DIFF_UPDATE val="T"/>
                  <Condition val="N"/>
                  <Modifier val="S"/>
                  <Direction val="C"/>
                </Select>
              </LogicLine>
              <LogicLine>
                <END_LINK FlowIsn="1981808653"/>
              </LogicLine>
              <LogicLine>
                <LNK Direction="D" EVL_CND="R" FlowIsn="2086666275" Key="1981808641" Mode="R" SortType="2086666276" VIEW="7" VIEWS="2">
                  <DB comp="-1" obj="1981808721"/>
                  <Condition val="Y"/>
                </LNK>
              </LogicLine>
              <LogicLine>
                <Select FieldID="2086666251" FlowIsn="2086666278" id="2086666251">
                  <Column val="1981808641"/>
                  <Type val="R"/>
                  <ExposedToRoute val="N"/>
                  <IsParameter val="N"/>
                  <REAL_VNAME_TXT val="TAX_YEAR_LastRefDatePrevYear"/>
                  <Locate MAX="2086666248" MIN="2086666248"/>
                  <DIFF_UPDATE val="T"/>
                  <Condition val="N"/>
                  <Modifier val="S"/>
                  <Direction val="C"/>
                </Select>
              </LogicLine>
              <LogicLine>
                <Select FieldID="2086666250" FlowIsn="2086666277" id="2086666250">
                  <Column val="1981808642"/>
                  <Type val="R"/>
                  <ExposedToRoute val="N"/>
                  <IsParameter val="N"/>
                  <REAL_VNAME_TXT val="REFERENCE_DATE_LastRefDatePrevY"/>
                  <INT_RCMP_INFO>
                    <v>2086666280</v>
                  </INT_RCMP_INFO>
                  <DIFF_UPDATE val="T"/>
                  <Condition val="N"/>
                  <Modifier val="S"/>
                  <Direction val="C"/>
                </Select>
              </LogicLine>
              <LogicLine>
                <END_LINK FlowIsn="2086666276"/>
              </LogicLine>
              <LogicLine>
                <Select FieldID="2086666252" FlowIsn="2086666280" id="2086666252">
                  <ASS val="2086666250"/>
                  <Column val="2086666247"/>
                  <Type val="V"/>
                  <ExposedToRoute val="N"/>
                  <IsParameter val="N"/>
                  <INT_RCMP_INFO>
                    <v>2086666298</v>
                  </INT_RCMP_INFO>
                  <DIFF_UPDATE val="T"/>
                  <PartOfDataview val="Y"/>
                  <Condition val="Y"/>
                  <Modifier val="S"/>
                  <Direction val="C"/>
                </Select>
              </LogicLine>
              <LogicLine>
                <LNK Direction="A" EVL_CND="R" FlowIsn="2086666294" Key="1981808641" Mode="R" SortType="2086666295" VIEW="10" VIEWS="2">
                  <DB comp="-1" obj="1981808721"/>
                  <Condition val="Y"/>
                </LNK>
              </LogicLine>
              <LogicLine>
                <Select FieldID="2086666258" FlowIsn="2086666297" id="2086666258">
                  <Column val="1981808641"/>
                  <Type val="R"/>
                  <ExposedToRoute val="N"/>
                  <IsParameter val="N"/>
                  <REAL_VNAME_TXT val="TAX_YEAR_FirstRefDateTaxYear"/>
                  <Locate MAX="2086666251" MIN="2086666251"/>
                  <DIFF_UPDATE val="T"/>
                  <Condition val="N"/>
                  <Modifier val="S"/>
                  <Direction val="C"/>
                </Select>
              </LogicLine>
              <LogicLine>
                <Select FieldID="2086666257" FlowIsn="2086666296" id="2086666257">
                  <Column val="1981808642"/>
                  <Type val="R"/>
                  <ExposedToRoute val="N"/>
                  <IsParameter val="N"/>
                  <REAL_VNAME_TXT val="REFERENCE_DATE_FirstRefDateTaxY"/>
                  <INT_RCMP_INFO>
                    <v>2086666298</v>
                  </INT_RCMP_INFO>
                  <DIFF_UPDATE val="T"/>
                  <Condition val="N"/>
                  <Modifier val="S"/>
                  <Direction val="C"/>
                </Select>
              </LogicLine>
              <LogicLine>
                <END_LINK FlowIsn="2086666295"/>
              </LogicLine>
              <LogicLine>
                <Select FieldID="2086666259" FlowIsn="2086666298" id="2086666259">
                  <ASS val="2086666252"/>
                  <Column val="2086666248"/>
                  <Type val="V"/>
                  <ExposedToRoute val="N"/>
                  <IsParameter val="N"/>
                  <INT_RCMP_INFO>
                    <v>2086666288</v>
                    <v>2086666311</v>
                  </INT_RCMP_INFO>
                  <DIFF_UPDATE val="T"/>
                  <Condition val="Y"/>
                  <Modifier val="S"/>
                  <Direction val="C"/>
                </Select>
              </LogicLine>
              <LogicLine>
                <Remark FlowIsn="2086666299">
                  <Type val="0"/>
                  <Text val="If the reference date lies within the first period of the tax year, then check if the calculation of the previous tax year"/>
                </Remark>
              </LogicLine>
              <LogicLine>
                <Remark FlowIsn="2086666300">
                  <Type val="0"/>
                  <Text val="has been processed:"/>
                </Remark>
              </LogicLine>
              <LogicLine>
                <LNK Direction="A" EVL_CND="R" FieldID="2086666261" FlowIsn="2086666288" Key="1981808641" Mode="R" SortType="2086666289" VIEW="13" VIEWS="4">
                  <DB comp="-1" obj="1981808717"/>
                  <Condition Exp="2086666253"/>
                </LNK>
              </LogicLine>
              <LogicLine>
                <Select FieldID="2086666256" FlowIsn="2086666293" id="2086666256">
                  <Column val="1981808643"/>
                  <Type val="R"/>
                  <ExposedToRoute val="N"/>
                  <IsParameter val="N"/>
                  <REAL_VNAME_TXT val="TAX_YEAR_prev_tax_Year"/>
                  <Locate MAX="2086666248" MIN="2086666248"/>
                  <DIFF_UPDATE val="T"/>
                  <Condition val="N"/>
                  <Modifier val="S"/>
                  <Direction val="C"/>
                </Select>
              </LogicLine>
              <LogicLine>
                <Select FieldID="2086666255" FlowIsn="2086666292" id="2086666255">
                  <Column val="1247805463"/>
                  <Type val="R"/>
                  <ExposedToRoute val="N"/>
                  <IsParameter val="N"/>
                  <REAL_VNAME_TXT val="BASE_AMOUNT_OVER_THRESHOLD_prev"/>
                  <INT_RCMP_INFO>
                    <v>2086666313</v>
                  </INT_RCMP_INFO>
                  <DIFF_UPDATE val="T"/>
                  <Condition val="N"/>
                  <Modifier val="S"/>
                  <Direction val="C"/>
                </Select>
              </LogicLine>
              <LogicLine>
                <Select FieldID="2086666254" FlowIsn="2086666291" id="2086666254">
                  <Column val="1981808644"/>
                  <Type val="R"/>
                  <ExposedToRoute val="N"/>
                  <IsParameter val="N"/>
                  <REAL_VNAME_TXT val="IS_PROCESSED_prev_tax_Year"/>
                  <INT_RCMP_INFO>
                    <v>2086666313</v>
                  </INT_RCMP_INFO>
                  <DIFF_UPDATE val="T"/>
                  <Condition val="N"/>
                  <Modifier val="S"/>
                  <Direction val="C"/>
                </Select>
              </LogicLine>
              <LogicLine>
                <Select FieldID="2086666253" FlowIsn="2086666290" id="2086666253">
                  <Column val="1981808642"/>
                  <Type val="R"/>
                  <ExposedToRoute val="N"/>
                  <IsParameter val="N"/>
                  <REAL_VNAME_TXT val="PARENT_PPR_ID_prev_tax_Year"/>
                  <Locate MAX="2086666254" MIN="2086666254"/>
                  <DIFF_UPDATE val="T"/>
                  <Condition val="N"/>
                  <Modifier val="S"/>
                  <Direction val="C"/>
                </Select>
              </LogicLine>
              <LogicLine>
                <END_LINK FlowIsn="2086666289"/>
              </LogicLine>
              <LogicLine>
                <Select FieldID="2086666261" FlowIsn="2086666301" id="2086666261">
                  <Column val="2086666250"/>
                  <Type val="V"/>
                  <ExposedToRoute val="N"/>
                  <IsParameter val="N"/>
                  <INT_RCMP_INFO>
                    <v>2086666311</v>
                    <v>2086666313</v>
                  </INT_RCMP_INFO>
                  <DIFF_UPDATE val="T"/>
                  <Condition val="Y"/>
                  <Modifier val="S"/>
                  <Direction val="C"/>
                </Select>
              </LogicLine>
              <LogicLine>
                <Select FieldID="2086666269" FlowIsn="2086666311" id="2086666269">
                  <ASS val="2086666255"/>
                  <Column val="2086666254"/>
                  <Type val="V"/>
                  <ExposedToRoute val="N"/>
                  <IsParameter val="N"/>
                  <DIFF_UPDATE val="T"/>
                  <Condition val="Y"/>
                  <Modifier val="S"/>
                  <Direction val="C"/>
                </Select>
              </LogicLine>
              <LogicLine>
                <Select FieldID="2086666270" FlowIsn="2086666313" id="2086666270">
                  <ASS val="2086666256"/>
                  <Column val="2086666255"/>
                  <Type val="V"/>
                  <ExposedToRoute val="N"/>
                  <IsParameter val="N"/>
                  <DIFF_UPDATE val="T"/>
                  <Condition val="Y"/>
                  <Modifier val="S"/>
                  <Direction val="C"/>
                </Select>
              </LogicLine>
              <LogicLine>
                <Remark FlowIsn="2086666312">
                  <Type val="0"/>
                  <Text val=" "/>
                </Remark>
              </LogicLine>
              <LogicLine>
                <Remark FlowIsn="2086666302">
                  <Type val="0"/>
                  <Text val="Check if the current tax year calculation is already calculated:"/>
                </Remark>
              </LogicLine>
              <LogicLine>
                <LNK Direction="A" EVL_CND="R" FieldID="2086666267" FlowIsn="2086666303" Key="1981808641" Mode="R" SortType="2086666308" VIEW="20" VIEWS="4">
                  <DB comp="-1" obj="1981808717"/>
                  <Condition val="Y"/>
                </LNK>
              </LogicLine>
              <LogicLine>
                <Select FieldID="2086666263" FlowIsn="2086666304" id="2086666263">
                  <Column val="1981808643"/>
                  <Type val="R"/>
                  <ExposedToRoute val="N"/>
                  <IsParameter val="N"/>
                  <REAL_VNAME_TXT val="TAX_YEAR_curr_tax_Year"/>
                  <Locate MAX="2086666251" MIN="2086666251"/>
                  <DIFF_UPDATE val="T"/>
                  <Condition val="N"/>
                  <Modifier val="S"/>
                  <Direction val="C"/>
                </Select>
              </LogicLine>
              <LogicLine>
                <Select FieldID="2086666264" FlowIsn="2086666305" id="2086666264">
                  <Column val="1247805463"/>
                  <Type val="R"/>
                  <ExposedToRoute val="N"/>
                  <IsParameter val="N"/>
                  <REAL_VNAME_TXT val="BASE_AMOUNT_OVER_THRESHOLD_curr"/>
                  <INT_RCMP_INFO>
                    <v>2086666315</v>
                  </INT_RCMP_INFO>
                  <DIFF_UPDATE val="T"/>
                  <Condition val="N"/>
                  <Modifier val="S"/>
                  <Direction val="C"/>
                </Select>
              </LogicLine>
              <LogicLine>
                <Select FieldID="2086666265" FlowIsn="2086666306" id="2086666265">
                  <Column val="1981808644"/>
                  <Type val="R"/>
                  <ExposedToRoute val="N"/>
                  <IsParameter val="N"/>
                  <REAL_VNAME_TXT val="IS_PROCESSED_curr_tax_Year"/>
                  <INT_RCMP_INFO>
                    <v>2086666315</v>
                  </INT_RCMP_INFO>
                  <DIFF_UPDATE val="T"/>
                  <Condition val="N"/>
                  <Modifier val="S"/>
                  <Direction val="C"/>
                </Select>
              </LogicLine>
              <LogicLine>
                <Select FieldID="2086666266" FlowIsn="2086666307" id="2086666266">
                  <Column val="1981808642"/>
                  <Type val="R"/>
                  <ExposedToRoute val="N"/>
                  <IsParameter val="N"/>
                  <REAL_VNAME_TXT val="PARENT_PPR_ID_curr_tax_Year"/>
                  <Locate MAX="2086666254" MIN="2086666254"/>
                  <DIFF_UPDATE val="T"/>
                  <Condition val="N"/>
                  <Modifier val="S"/>
                  <Direction val="C"/>
                </Select>
              </LogicLine>
              <LogicLine>
                <END_LINK FlowIsn="2086666308"/>
              </LogicLine>
              <LogicLine>
                <Select FieldID="2086666267" FlowIsn="2086666309" id="2086666267">
                  <Column val="2086666252"/>
                  <Type val="V"/>
                  <ExposedToRoute val="N"/>
                  <IsParameter val="N"/>
                  <INT_RCMP_INFO>
                    <v>2086666315</v>
                  </INT_RCMP_INFO>
                  <DIFF_UPDATE val="T"/>
                  <Condition val="Y"/>
                  <Modifier val="S"/>
                  <Direction val="C"/>
                </Select>
              </LogicLine>
              <LogicLine>
                <Select FieldID="2086666272" FlowIsn="2086666315" id="2086666272">
                  <ASS val="2086666258"/>
                  <Column val="2086666257"/>
                  <Type val="V"/>
                  <ExposedToRoute val="N"/>
                  <IsParameter val="N"/>
                  <DIFF_UPDATE val="T"/>
                  <Condition val="Y"/>
                  <Modifier val="S"/>
                  <Direction val="C"/>
                </Select>
              </LogicLine>
            </LogicLines>
          </LogicUnit>
          <LogicUnit id="1981808644" propagate="78">
            <Level val="T"/>
            <Type val="P"/>
            <Scope val="S"/>
            <EngineDirective val="S"/>
            <ShowMessage val="Y"/>
            <Condition val="89"/>
            <Event>
              <EventType val="S"/>
            </Event>
            <LogicLines>
              <LogicLine>
                <Remark FlowIsn="2086666273">
                  <Type val="2"/>
                  <Text val="Check if reference dates are present and if not, create them:"/>
                </Remark>
              </LogicLine>
              <LogicLine>
                <CallTask FlowIsn="2086666279">
                  <OperationType val="P"/>
                  <Event>
                    <EventType val="N"/>
                  </Event>
                  <TaskID comp="-1" obj="1981808852"/>
                  <Lock val="N"/>
                  <Arguments>
                    <Argument>
                      <Expression val="2086666249"/>
                      <Skip val="N"/>
                    </Argument>
                  </Arguments>
                  <Wait val="Y"/>
                  <SyncData val="N"/>
                  <RetainFocus val="N"/>
                  <Condition val="Y"/>
                  <Modifier val="B"/>
                  <Direction val="C"/>
                </CallTask>
              </LogicLine>
              <LogicLine>
                <CallTask FlowIsn="1981808658">
                  <OperationType val="P"/>
                  <Event>
                    <EventType val="N"/>
                  </Event>
                  <TaskID comp="-1" obj="1981808852"/>
                  <Lock val="N"/>
                  <Arguments>
                    <Argument>
                      <Expression val="1981808643"/>
                      <Skip val="N"/>
                    </Argument>
                  </Arguments>
                  <Wait val="Y"/>
                  <SyncData val="N"/>
                  <RetainFocus val="N"/>
                  <Condition val="Y"/>
                  <Modifier val="B"/>
                  <Direction val="C"/>
                </CallTask>
              </LogicLine>
              <LogicLine>
                <CallTask FlowIsn="2086666274">
                  <OperationType val="P"/>
                  <Event>
                    <EventType val="N"/>
                  </Event>
                  <TaskID comp="-1" obj="1981808852"/>
                  <Lock val="N"/>
                  <Arguments>
                    <Argument>
                      <Expression val="2086666247"/>
                      <Skip val="N"/>
                    </Argument>
                  </Arguments>
                  <Wait val="Y"/>
                  <SyncData val="N"/>
                  <RetainFocus val="N"/>
                  <Condition val="Y"/>
                  <Modifier val="B"/>
                  <Direction val="C"/>
                </CallTask>
              </LogicLine>
            </LogicLines>
          </LogicUnit>
          <LogicUnit id="1981808643" propagate="78">
            <Level val="R"/>
            <Type val="S"/>
            <Scope val="S"/>
            <EngineDirective val="S"/>
            <ShowMessage val="Y"/>
            <Condition val="89"/>
            <Event>
              <EventType val="S"/>
            </Event>
            <LogicLines>
              <LogicLine>
                <Remark FlowIsn="2086666340">
                  <Type val="2"/>
                  <Text val="Only calculate if not already calculated!"/>
                </Remark>
              </LogicLine>
              <LogicLine>
                <Remark FlowIsn="2086666310">
                  <Type val="2"/>
                  <Text val="If the previous tax year must be calculated and the current tax year is not taxable:"/>
                </Remark>
              </LogicLine>
              <LogicLine>
                <BLOCK EndBlock="2086666333" EndBlockSegment="2086666333" FlowIsn="2086666332" Type="I">
                  <Condition Exp="2086666259"/>
                  <Modifier val="B"/>
                  <Direction val="C"/>
                </BLOCK>
              </LogicLine>
              <LogicLine>
                <CallTask FlowIsn="2086666334">
                  <OperationType val="T"/>
                  <Event>
                    <EventType val="N"/>
                  </Event>
                  <TaskID comp="-1" obj="1981808644"/>
                  <Lock val="N"/>
                  <Arguments>
                    <Argument>
                      <Expression val="2086666267"/>
                      <Skip val="N"/>
                    </Argument>
                    <Argument>
                      <Expression val="2086666264"/>
                      <Skip val="N"/>
                    </Argument>
                    <Argument>
                      <Expression val="2086666248"/>
                      <Skip val="N"/>
                    </Argument>
                  </Arguments>
                  <Wait val="Y"/>
                  <SyncData val="N"/>
                  <RetainFocus val="N"/>
                  <Condition val="Y"/>
                  <Modifier val="B"/>
                  <Direction val="C"/>
                </CallTask>
              </LogicLine>
              <LogicLine>
                <CallTask FlowIsn="2086666335">
                  <OperationType val="P"/>
                  <Event>
                    <EventType val="N"/>
                  </Event>
                  <TaskID comp="-1" obj="137"/>
                  <Lock val="N"/>
                  <Arguments>
                    <Argument>
                      <Expression val="1981808641"/>
                      <Skip val="N"/>
                    </Argument>
                    <Argument>
                      <Expression val="1981808642"/>
                      <Skip val="N"/>
                    </Argument>
                    <Argument>
                      <Variable val="2086666270"/>
                      <Skip val="N"/>
                    </Argument>
                  </Arguments>
                  <Wait val="Y"/>
                  <SyncData val="N"/>
                  <RetainFocus val="N"/>
                  <Condition val="Y"/>
                  <Modifier val="B"/>
                  <Direction val="C"/>
                </CallTask>
              </LogicLine>
              <LogicLine>
                <END_BLK FlowIsn="2086666333"/>
              </LogicLine>
              <LogicLine>
                <Remark FlowIsn="2086666336">
                  <Type val="2"/>
                  <Text val="Calculate the current tax year when the reference date is not in the first period and the tax is not already calculated."/>
                </Remark>
              </LogicLine>
              <LogicLine>
                <Remark FlowIsn="2086666353">
                  <Type val="2"/>
                  <Text val="Because if the current reference date is smaler than the first reference date of the tax year, nothing will be calculated."/>
                </Remark>
              </LogicLine>
              <LogicLine>
                <BLOCK EndBlock="2086666338" EndBlockSegment="2086666338" FlowIsn="2086666337" Type="I">
                  <Condition Exp="2086666260"/>
                  <Modifier val="B"/>
                  <Direction val="C"/>
                </BLOCK>
              </LogicLine>
              <LogicLine>
                <Update FlowIsn="2086666341">
                  <FieldID val="1981808643"/>
                  <WithValue val="2086666262"/>
                  <Incremental val="N"/>
                  <ForcedUpdate val="Y"/>
                  <Condition val="Y"/>
                  <Modifier val="B"/>
                  <Direction val="C"/>
                </Update>
              </LogicLine>
              <LogicLine>
                <CallTask FlowIsn="1981808646">
                  <OperationType val="T"/>
                  <Event>
                    <EventType val="N"/>
                  </Event>
                  <TaskID comp="-1" obj="1981808644"/>
                  <Lock val="N"/>
                  <Arguments>
                    <Argument>
                      <Expression val="2086666268"/>
                      <Skip val="N"/>
                    </Argument>
                    <Argument>
                      <Expression val="2086666246"/>
                      <Skip val="N"/>
                    </Argument>
                    <Argument>
                      <Expression val="2086666251"/>
                      <Skip val="N"/>
                    </Argument>
                  </Arguments>
                  <Wait val="Y"/>
                  <SyncData val="N"/>
                  <RetainFocus val="N"/>
                  <Condition val="Y"/>
                  <Modifier val="B"/>
                  <Direction val="C"/>
                </CallTask>
              </LogicLine>
              <LogicLine>
                <CallTask FlowIsn="1981808647">
                  <OperationType val="P"/>
                  <Event>
                    <EventType val="N"/>
                  </Event>
                  <TaskID comp="-1" obj="137"/>
                  <Lock val="N"/>
                  <Arguments>
                    <Argument>
                      <Expression val="1981808641"/>
                      <Skip val="N"/>
                    </Argument>
                    <Argument>
                      <Expression val="1981808642"/>
                      <Skip val="N"/>
                    </Argument>
                    <Argument>
                      <Variable val="2086666272"/>
                      <Skip val="N"/>
                    </Argument>
                  </Arguments>
                  <Wait val="Y"/>
                  <SyncData val="N"/>
                  <RetainFocus val="N"/>
                  <Condition val="Y"/>
                  <Modifier val="B"/>
                  <Direction val="C"/>
                </CallTask>
              </LogicLine>
              <LogicLine>
                <END_BLK FlowIsn="2086666338"/>
              </LogicLine>
              <LogicLine>
                <Update FlowIsn="2086666339">
                  <FieldID val="1981808644"/>
                  <WithValue val="2086666261"/>
                  <Incremental val="N"/>
                  <ForcedUpdate val="Y"/>
                  <Condition val="Y"/>
                  <Modifier val="B"/>
                  <Direction val="C"/>
                </Update>
              </LogicLine>
            </LogicLines>
          </LogicUnit>
        </TaskLogic>
        <TaskForms>
          <FormEntry id="1">
            <PropertyList model="FORM_GUI0">
              <_Comment id="218"/>
              <FormName id="311" valUnicode="SUB-CheckTosaCalculation"/>
            </PropertyList>
          </FormEntry>
        </TaskForms>
        <Expressions>
          <Expression id="2086666246">
            <ExpSyntax val="{0,1981808642}"/>
            <ExpAttribute val="D"/>
          </Expression>
          <Expression id="2086666248">
            <ExpSyntax val="{0,2086666249}-1"/>
            <ExpAttribute val="N"/>
          </Expression>
          <Expression id="2086666250">
            <ExpSyntax val="AddDate({0,2086666250},0,0,1)"/>
            <ExpAttribute val="D"/>
          </Expression>
          <Expression id="2086666251">
            <ExpSyntax val="{0,2086666249}"/>
            <ExpAttribute val="N"/>
          </Expression>
          <Expression id="2086666252">
            <ExpSyntax val="Range({0,1981808642},{0,2086666252},AddDate({0,2086666257},0,0,-1))"/>
            <ExpAttribute val="B"/>
          </Expression>
          <Expression id="2086666253">
            <ExpSyntax val="{0,2086666259}"/>
            <ExpAttribute val="B"/>
          </Expression>
          <Expression id="2086666254">
            <ExpSyntax val="{0,1981808641}"/>
            <ExpAttribute val="N"/>
          </Expression>
          <Expression id="2086666255">
            <ExpSyntax val="{0,2086666259} AND NOT {0,2086666261}"/>
            <ExpAttribute val="B"/>
          </Expression>
          <Expression id="2086666256">
            <ExpSyntax val="{0,2086666261} AND {0,2086666255} AND NOT {0,2086666254}"/>
            <ExpAttribute val="B"/>
          </Expression>
          <Expression id="2086666258">
            <ExpSyntax val="{0,2086666267} AND {0,2086666264} AND NOT {0,2086666265}"/>
            <ExpAttribute val="B"/>
          </Expression>
          <Expression id="2086666249">
            <ExpSyntax val="Year({0,1981808642})-1"/>
            <ExpAttribute val="N"/>
          </Expression>
          <Expression id="1981808643">
            <ExpSyntax val="Year({0,1981808642})"/>
            <ExpAttribute val="N"/>
          </Expression>
          <Expression id="2086666247">
            <ExpSyntax val="Year({0,1981808642})+1"/>
            <ExpAttribute val="N"/>
          </Expression>
          <Expression id="2086666259">
            <ExpSyntax val="{0,2086666269} AND NOT {0,2086666272}"/>
            <ExpAttribute val="B"/>
          </Expression>
          <Expression id="2086666267">
            <ExpSyntax val="AddDate({0,2086666252},-1,0,0)"/>
            <ExpAttribute val="D"/>
          </Expression>
          <Expression id="2086666264">
            <ExpSyntax val="{0,2086666250}"/>
            <ExpAttribute val="D"/>
          </Expression>
          <Expression id="1981808641">
            <ExpSyntax val="{0,1981808643}"/>
            <ExpAttribute val="O"/>
          </Expression>
          <Expression id="1981808642">
            <ExpSyntax val="'TRUE'LOG"/>
            <ExpAttribute val="B"/>
          </Expression>
          <Expression id="2086666260">
            <ExpSyntax val="NOT {0,2086666259} AND NOT {0,2086666267}"/>
            <ExpAttribute val="B"/>
          </Expression>
          <Expression id="2086666262">
            <ExpSyntax val="NULL()"/>
            <ExpAttribute val="*"/>
          </Expression>
          <Expression id="2086666268">
            <ExpSyntax val="{0,2086666252}"/>
            <ExpAttribute val="D"/>
          </Expression>
          <Expression id="2086666261">
            <ExpSyntax val="{0,2086666270} OR {0,2086666272}"/>
            <ExpAttribute val="B"/>
          </Expression>
        </Expressions>
        <Task MainProgram="N">
          <Header Description="CreateTosaCalcMessage" ISN_2="1981808644" LastIsn="4" id="1981808849">
            <ExecutionRight comp="-1"/>
            <Resident val="Y"/>
            <SQL val="N"/>
            <ReturnValue>
              <ReturnValueAttr/>
              <TSK_PARAMS val="3"/>
              <ParametersAttributes>
                <Attr MgAttr="D"/>
                <Attr MgAttr="D"/>
                <Attr MgAttr="N"/>
              </ParametersAttributes>
            </ReturnValue>
            <SqlWhereExist val="N"/>
            <TaskType val="B"/>
            <External val="N"/>
            <FormType val="N"/>
            <DotNetObjectExists val="N"/>
            <LastModified _date="738300" _time="40376" date="25/05/2022" time="11:12:56"/>
          </Header>
          <ItemIsn val="11"/>
          <Resource>
            <DB FieldID="1981808643" Parent="1" id="1981808641">
              <DataObject comp="-1" obj="1981808722"/>
              <Access val="W"/>
              <Share val="R"/>
              <Open val="N"/>
              <Cache val="Y"/>
              <IdentifyRowModifications val="84"/>
            </DB>
            <Columns>
              <Column id="2086666241" name="pi-_CalcDateFrom">
                <PropertyList model="FIELD">
                  <Model attr_obj="FIELD_DATE" comp="2" id="1" obj="37"/>
                  <DbColumnName id="178"/>
                  <Type id="179"/>
                  <UserType id="180"/>
                </PropertyList>
              </Column>
              <Column id="2086666242" name="pi-_CalcDateTill">
                <PropertyList model="FIELD">
                  <Model attr_obj="FIELD_DATE" comp="2" id="1" obj="37"/>
                  <DbColumnName id="178"/>
                  <Type id="179"/>
                  <UserType id="180"/>
                </PropertyList>
              </Column>
              <Column id="2086666243" name="pi-_TaxYear">
                <PropertyList model="FIELD">
                  <Model attr_obj="FIELD_NUMERIC" comp="2" id="1" obj="50"/>
                  <DbColumnName id="178"/>
                  <Type id="179"/>
                  <UserType id="180"/>
                </PropertyList>
              </Column>
            </Columns>
          </Resource>
          <Information>
            <Key>
              <Mode val="N"/>
            </Key>
            <DB comp="-1"/>
            <Sort>
              <CLS val="A"/>
            </Sort>
            <ForceRecordDelete DEL="N"/>
            <EndTaskCondition val="Y"/>
            <EvaluateEndCondition val="A"/>
            <InitialMode val="M"/>
            <Locate Direction="A"/>
            <Range Direction="A"/>
            <VarRange/>
            <TaskProperties>
              <SelectionTable val="N"/>
              <ConfirmUpdate CNFU="N"/>
              <ConfirmCancel val="N"/>
              <ErrorStrategy val="A"/>
              <LockingStrategy val="M"/>
              <CacheStrategy val="N"/>
              <ForceRecordSuffix val="N"/>
              <TransactionMode val="P"/>
              <TransactionBegin val="N"/>
              <PreloadView val="N"/>
              <AllowEmptyDataview val="N"/>
              <KeepCreatedContext val="N"/>
            </TaskProperties>
            <SIDE_WIN>
              <AllowOptions val="N"/>
              <AllowQuery val="Y"/>
              <AllowModify val="Y"/>
              <AllowCreate val="Y"/>
              <AllowDelete val="Y"/>
              <AllowLocate val="Y"/>
              <AllowRange val="Y"/>
              <AllowIndexChange val="Y"/>
              <AllowSorting val="Y"/>
              <AllowIOFiles val="Y"/>
              <RecordCycle val="Y"/>
              <AllowEvents val="N"/>
              <AllowIndexOptimization val="Y"/>
              <AllowLocationInQuery val="Y"/>
              <AllowPrintingData val="N"/>
            </SIDE_WIN>
            <WIN>
              <OpenTaskWindow val="N"/>
              <CloseTaskWindow val="Y"/>
              <ForegroundWindow val="Y"/>
              <FlipFld val="N"/>
              <RefreshTaskWindow ReturnValue="N"/>
            </WIN>
            <BOX>
              <Direction val="V"/>
            </BOX>
          </Information>
          <INT_CMP_LIST_INFO>
            <v>2</v>
          </INT_CMP_LIST_INFO>
          <TaskLogic>
            <LogicUnit id="1981808641" propagate="78">
              <Level val="R"/>
              <Type val="M"/>
              <Scope val="S"/>
              <EngineDirective val="S"/>
              <ShowMessage val="Y"/>
              <Condition val="89"/>
              <Event>
                <EventType val="S"/>
              </Event>
              <LogicLines>
                <LogicLine>
                  <DATAVIEW_SRC FlowIsn="1981808641" Type="M">
                    <Condition val="N"/>
                    <Modifier val="B"/>
                    <Direction val="C"/>
                  </DATAVIEW_SRC>
                </LogicLine>
                <LogicLine>
                  <Select FieldID="2086666249" FlowIsn="2086666251" id="2086666249">
                    <Column val="2086666241"/>
                    <Type val="V"/>
                    <ExposedToRoute val="N"/>
                    <IsParameter val="Y"/>
                    <INT_RCMP_INFO>
                      <v>1981808646</v>
                    </INT_RCMP_INFO>
                    <DIFF_UPDATE val="T"/>
                    <PartOfDataview val="Y"/>
                    <Condition val="Y"/>
                    <Modifier val="S"/>
                    <Direction val="C"/>
                  </Select>
                </LogicLine>
                <LogicLine>
                  <Select FieldID="2086666250" FlowIsn="2086666252" id="2086666250">
                    <Column val="2086666242"/>
                    <Type val="V"/>
                    <ExposedToRoute val="N"/>
                    <IsParameter val="Y"/>
                    <INT_RCMP_INFO>
                      <v>1981808647</v>
                    </INT_RCMP_INFO>
                    <DIFF_UPDATE val="T"/>
                    <PartOfDataview val="Y"/>
                    <Condition val="Y"/>
                    <Modifier val="S"/>
                    <Direction val="C"/>
                  </Select>
                </LogicLine>
                <LogicLine>
                  <Select FieldID="2086666251" FlowIsn="2086666253" id="2086666251">
                    <Column val="2086666243"/>
                    <Type val="V"/>
                    <ExposedToRoute val="N"/>
                    <IsParameter val="Y"/>
                    <INT_RCMP_INFO>
                      <v>1981808648</v>
                    </INT_RCMP_INFO>
                    <DIFF_UPDATE val="T"/>
                    <PartOfDataview val="Y"/>
                    <Condition val="Y"/>
                    <Modifier val="S"/>
                    <Direction val="C"/>
                  </Select>
                </LogicLine>
                <LogicLine>
                  <LNK Direction="A" EVL_CND="R" FlowIsn="1981808642" Mode="A" SortType="1981808643" VIEW="4" VIEWS="6">
                    <DB comp="-1" obj="1981808722"/>
                    <Condition val="Y"/>
                  </LNK>
                </LogicLine>
                <LogicLine>
                  <Select FieldID="1981808641" FlowIsn="1981808644" id="1981808641">
                    <ASS val="1981808641"/>
                    <Column val="1981808644"/>
                    <Type val="R"/>
                    <ExposedToRoute val="N"/>
                    <IsParameter val="N"/>
                    <DIFF_UPDATE val="T"/>
                    <Condition val="N"/>
                    <Modifier val="S"/>
                    <Direction val="C"/>
                  </Select>
                </LogicLine>
                <LogicLine>
                  <Select FieldID="1981808642" FlowIsn="1981808645" id="1981808642">
                    <ASS val="1981808646"/>
                    <Column val="1981808659"/>
                    <Type val="R"/>
                    <ExposedToRoute val="N"/>
                    <IsParameter val="N"/>
                    <DIFF_UPDATE val="T"/>
                    <Condition val="N"/>
                    <Modifier val="S"/>
                    <Direction val="C"/>
                  </Select>
                </LogicLine>
                <LogicLine>
                  <Select FieldID="1981808643" FlowIsn="1981808646" id="1981808643">
                    <ASS val="2086666247"/>
                    <Column val="1981808645"/>
                    <Type val="R"/>
                    <ExposedToRoute val="N"/>
                    <IsParameter val="N"/>
                    <DIFF_UPDATE val="T"/>
                    <Condition val="N"/>
                    <Modifier val="S"/>
                    <Direction val="C"/>
                  </Select>
                </LogicLine>
                <LogicLine>
                  <Select FieldID="1981808644" FlowIsn="1981808647" id="1981808644">
                    <ASS val="1981808642"/>
                    <Column val="1981808646"/>
                    <Type val="R"/>
                    <ExposedToRoute val="N"/>
                    <IsParameter val="N"/>
                    <DIFF_UPDATE val="T"/>
                    <Condition val="N"/>
                    <Modifier val="S"/>
                    <Direction val="C"/>
                  </Select>
                </LogicLine>
                <LogicLine>
                  <Select FieldID="1981808645" FlowIsn="1981808648" id="1981808645">
                    <ASS val="2086666248"/>
                    <Column val="1981808647"/>
                    <Type val="R"/>
                    <ExposedToRoute val="N"/>
                    <IsParameter val="N"/>
                    <DIFF_UPDATE val="T"/>
                    <Condition val="N"/>
                    <Modifier val="S"/>
                    <Direction val="C"/>
                  </Select>
                </LogicLine>
                <LogicLine>
                  <Select FieldID="1981808646" FlowIsn="1981808649" id="1981808646">
                    <ASS val="1981808644"/>
                    <Column val="1981808648"/>
                    <Type val="R"/>
                    <ExposedToRoute val="N"/>
                    <IsParameter val="N"/>
                    <DIFF_UPDATE val="T"/>
                    <Condition val="N"/>
                    <Modifier val="S"/>
                    <Direction val="C"/>
                  </Select>
                </LogicLine>
                <LogicLine>
                  <END_LINK FlowIsn="1981808643"/>
                </LogicLine>
              </LogicLines>
            </LogicUnit>
          </TaskLogic>
          <TaskForms>
            <FormEntry id="1">
              <PropertyList model="FORM_GUI0">
                <_Comment id="218"/>
                <FormName id="311" valUnicode="CreateTosaCalcMessage"/>
              </PropertyList>
            </FormEntry>
          </TaskForms>
          <Expressions>
            <Expression id="1981808641">
              <ExpSyntax val="'TRUE'LOG"/>
              <ExpAttribute val="B"/>
            </Expression>
            <Expression id="1981808646">
              <ExpSyntax val="'FALSE'LOG"/>
              <ExpAttribute val="B"/>
            </Expression>
            <Expression id="2086666247">
              <ExpSyntax val="{0,2086666249}"/>
              <ExpAttribute val="D"/>
            </Expression>
            <Expression id="1981808642">
              <ExpSyntax val="{0,2086666250}"/>
              <ExpAttribute val="D"/>
            </Expression>
            <Expression id="2086666248">
              <ExpSyntax val="{0,2086666251}"/>
              <ExpAttribute val="N"/>
            </Expression>
            <Expression id="1981808644">
              <ExpSyntax val="{1,1981808641}"/>
              <ExpAttribute val="N"/>
            </Expression>
          </Expressions>
        </Task>
      </Task>
    </Programs>
  </ProgramsRepository>

</Application>
